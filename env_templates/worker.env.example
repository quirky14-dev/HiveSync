###############################################
# HIVE SYNC â€” WORKER ENVIRONMENT TEMPLATE
###############################################

# -------------------------------------
# Worker Service Configuration
# -------------------------------------
WORKER_CONCURRENCY=4
LOG_LEVEL=info

# A unique worker identifier (optional but recommended)
WORKER_ID=worker-1

# -------------------------------------
# Redis (Job Queue)
# -------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# -------------------------------------
# Worker Queue Names (MUST MATCH BACKEND)
# -------------------------------------
WORKER_PREVIEW_QUEUE=preview_tasks
WORKER_MAP_QUEUE=map_tasks
WORKER_BILLING_QUEUE=billing_tasks
WORKER_DELETION_QUEUE=deletion_tasks

# -------------------------------------
# Object Storage (Cloudflare R2)
# -------------------------------------
R2_BUCKET=hivesync-storage
R2_ACCESS_KEY=REPLACE_ME
R2_SECRET_KEY=REPLACE_ME
R2_ACCOUNT_ID=REPLACE_ME
R2_ENDPOINT=https://<your-account-id>.r2.cloudflarestorage.com
R2_PUBLIC_BASE_URL=https://pub-xxxxxxxx.r2.dev

# -------------------------------------
# AI Provider (for heavy jobs)
# -------------------------------------
AI_PRIMARY=openai
AI_MODEL=gpt-4.1
OPENAI_API_KEY=REPLACE_ME

# Optional local inference
LOCAL_AI_ENABLED=false
LOCAL_AI_MODEL_PATH=/models/llama

# -------------------------------------
# Preview Pipeline (Section 12)
# -------------------------------------
PREVIEW_MAX_TIMEOUT_MS=8000

# For validating device context payload (required for Section 12 enhancements)
# Stateless preview token verification (must match backend)
PREVIEW_TOKEN_SECRET=REPLACE_ME_WITH_LONG_RANDOM_STRING
PREVIEW_DEVICE_CONTEXT_SECRET=REPLACE_ME



# Enable/disable sensor-driven preview behavior
PREVIEW_SENSOR_FEATURES_ENABLED=true
EVENTFLOW_ENABLED=true

# -------------------------------------
# Worker Callback (Backend Integration)
# -------------------------------------
WORKER_CALLBACK_URL=https://your-domain.com/api/v1/worker/callback
WORKER_CALLBACK_SECRET=REPLACE_ME_WITH_LONG_RANDOM_STRING

# -------------------------------------
# Billing / LemonSqueezy (Worker-Safe)
# Used only for billing reconciliation jobs and webhook verification
# -------------------------------------
LZ_API_KEY=REPLACE_ME
LZ_WEBHOOK_SECRET=REPLACE_ME

# -------------------------------------
# Logging / Observability
# -------------------------------------
SENTRY_DSN=
